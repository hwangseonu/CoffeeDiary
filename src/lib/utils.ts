import type {NoteInfo} from "$lib/types";

export function getContrastTextColor(hexColor: string): 'black' | 'white' {
    // 1. '#RRGGBB' 형태의 HEX 코드를 파싱하여 RGB 값을 추출합니다.
    // # 제거 후 6자리로 가정
    const hex = hexColor.replace('#', '');

    // R, G, B 값 추출 및 10진수로 변환
    const r = parseInt(hex.substring(0, 2), 16);
    const g = parseInt(hex.substring(2, 4), 16);
    const b = parseInt(hex.substring(4, 6), 16);

    // 2. 휘도 (Luminance) 계산 (ITU-R BT.709 표준)
    // 이 공식은 인간의 눈이 R, G, B 중 녹색(G)을 가장 민감하게 인식하는 것을 반영합니다.
    const luminance = (0.2126 * r) + (0.7152 * g) + (0.0722 * b);

    // 3. 임계값(Threshold)을 기준으로 텍스트 색상 결정
    // 임계값은 0~255 사이의 값으로, 보통 128~150 사이를 사용합니다.
    // 140을 기준으로 하겠습니다.
    const threshold = 140;

    // 휘도가 높으면 (밝으면) 검은색 텍스트, 낮으면 (어두우면) 흰색 텍스트
    return luminance > threshold ? 'black' : 'white';
}

export function getBrewRatio(dose: number, extract: number): string {
    return "1:"+(extract/dose).toFixed(2).replace(/\.?0+$/, '').replace(/\.$/, '')
}

export const wellKnownNotes: NoteInfo[] = [
    // --------------------------------------------------------------------------------------
    // 1단계: FRUIT (과일) - 대표색: 보라 (Purple/Pink)
    // --------------------------------------------------------------------------------------
    { id: 1, text: '과일 (Fruity)', color: '#FF77AA'},

    // 2단계: BERRY (베리) - 대표색: 짙은 자주
    { id: 2, text: '베리류', color: '#B03060'},
    { id: 3, text: '블랙베리', color: '#6A0DAD'},
    { id: 4, text: '블루베리', color: '#4B0082'},
    { id: 5, text: '라즈베리', color: '#E30B5C'},
    { id: 6, text: '딸기', color: '#DC143C'},

    // 2단계: DRIED FRUIT (건과일) - 대표색: 보라-갈색
    { id: 7, text: '건과일', color: '#8B4513'},
    { id: 8, text: '건포도', color: '#9B870C'},
    { id: 9, text: '프룬', color: '#701D66'},

    // 2단계: STONE FRUIT (핵과류) - 대표색: 주황-분홍
    { id: 10, text: '핵과류', color: '#FF7F50'},
    { id: 11, text: '복숭아', color: '#FA58CF'},
    { id: 12, text: '살구', color: '#FFB347'},

    // 2단계: TROPICAL FRUIT (열대 과일) - 대표색: 밝은 주황
    { id: 13, text: '열대 과일', color: '#FFA07A'},
    { id: 14, text: '바나나', color: '#F0E68C'},
    { id: 15, text: '코코넛', color: '#C8B59E'},

    // 2단계: CITRUS (감귤류) - 대표색: 노란색
    { id: 16, text: '감귤류', color: '#ffd700'},
    { id: 17, text: '오렌지', color: '#ff8c00'},
    { id: 18, text: '레몬', color: '#FFD700'},
    { id: 19, text: '자몽', color: '#F08080'},

    // 2단계: GRAPE (포도) - 대표색: 자주색
    { id: 20, text: '포도', color: '#A020F0'},

    // --------------------------------------------------------------------------------------
    // 1단계: FLOWER (꽃) - 대표색: 연한 보라
    // --------------------------------------------------------------------------------------
    { id: 21, text: '꽃 (Floral)', color: '#DDA0DD'},
    // 2단계: (개별 노트)
    { id: 22, text: '재스민', color: '#E7B9E7'},
    { id: 23, text: '장미', color: '#FF1160'},
    { id: 24, text: '라벤더', color: '#AD65D5'},

    // --------------------------------------------------------------------------------------
    // 1단계: SWEET & SUGARY (단맛 & 설탕) - 대표색: 밝은 갈색
    // --------------------------------------------------------------------------------------
    { id: 25, text: '단맛/설탕', color: '#E6C383'},
    // 2단계: (개별 노트)
    { id: 26, text: '카라멜', color: '#A0522D'},
    { id: 27, text: '꿀', color: '#ffc300'},
    { id: 28, text: '바닐라', color: '#FAEBD7'},
    { id: 29, text: '메이플 시럽', color: '#B9590B'},

    // --------------------------------------------------------------------------------------
    // 1단계: CHOCOLATE (초콜릿) - 대표색: 짙은 갈색
    // --------------------------------------------------------------------------------------
    { id: 30, text: '초콜릿', color: '#5C4033'},
    // 2단계: (개별 노트)
    { id: 31, text: '다크 초콜릿', color: '#4F2E2C'},
    { id: 32, text: '코코아', color: '#964B00'},

    // --------------------------------------------------------------------------------------
    // 1단계: NUT (견과류) - 대표색: 회갈색
    // --------------------------------------------------------------------------------------
    { id: 33, text: '견과류', color: '#A5774F'},
    // 2단계: (개별 노트)
    { id: 34, text: '아몬드', color: '#D2B48C'},
    { id: 35, text: '헤이즐넛', color: '#8E764E'},

    // --------------------------------------------------------------------------------------
    // 1단계: ROAST (로스팅) - 대표색: 검은색/차콜색
    // --------------------------------------------------------------------------------------
    { id: 36, text: '로스팅', color: '#36454F'},
    // 2단계: (개별 노트)
    { id: 37, text: '스모키', color: '#1B1B1B'},
    { id: 38, text: '토스트', color: '#A0522D'},

    // --------------------------------------------------------------------------------------
    // 1단계: SPICE (향신료) - 대표색: 황갈색/붉은 갈색
    // --------------------------------------------------------------------------------------
    { id: 39, text: '향신료', color: '#D2691E'},
    // 2단계: (개별 노트)
    { id: 40, text: '계피', color: '#A0522D'},
    { id: 41, text: '정향', color: '#CD853F'},
    { id: 42, text: '후추', color: '#696969'},

    // --------------------------------------------------------------------------------------
    // 1단계: SAVORY (풍미) - 대표색: 붉은 갈색
    // --------------------------------------------------------------------------------------
    { id: 43, text: '풍미', color: '#A52A2A'},
    // 2단계: (개별 노트)
    { id: 44, text: '토마토', color: '#FF6347'},

    // --------------------------------------------------------------------------------------
    // 1단계: EARTHY & HERB (흙 & 허브) - 대표색: 녹색/올리브
    // --------------------------------------------------------------------------------------
    { id: 45, text: '흙/허브', color: '#556B2F'},
    // 2단계: (개별 노트)
    { id: 46, text: '풀 냄새', color: '#8FBC8F'},
    { id: 47, text: '흙', color: '#584C3F'},

    // --------------------------------------------------------------------------------------
    // 1단계: VEGETAL (채소) - 대표색: 밝은 연두
    // --------------------------------------------------------------------------------------
    { id: 48, text: '채소', color: '#9ACD32'},
    // 2단계: (개별 노트)
    { id: 49, text: '녹차', color: '#50C878'},
];